<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Visaire - AI Manim Animation Generator</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link href="/static/style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="container-fluid">
      <!-- Header -->
      <nav class="navbar navbar-dark bg-primary mb-4">
        <div class="container">
          <span class="navbar-brand mb-0 h1">
            <i class="fas fa-magic me-2"></i>
            Visaire - AI Manim Generator
          </span>
          <div class="navbar-text">
            <i class="fas fa-circle text-success me-1"></i>
            API Status: <span id="api-status">Checking...</span>
          </div>
        </div>
      </nav>

      <div class="container">
        <div class="row">
          <!-- Input Section -->
          <div class="col-lg-6">
            <div class="card shadow">
              <div class="card-header bg-light">
                <h5 class="card-title mb-0">
                  <i class="fas fa-keyboard me-2"></i>
                  Animation Prompt
                </h5>
              </div>
              <div class="card-body">
                <form id="animation-form">
                  <div class="mb-3">
                    <label for="prompt" class="form-label"
                      >Describe your animation:</label
                    >
                    <textarea
                      class="form-control"
                      id="prompt"
                      rows="6"
                      placeholder="e.g., A circle transforms into a square while moving from left to right"
                      required
                    ></textarea>
                    <div class="form-text">
                      Be specific about shapes, movements, transformations, and
                      colors you want.
                    </div>
                  </div>
                  <button
                    type="submit"
                    class="btn btn-primary btn-lg w-100"
                    id="generate-btn"
                  >
                    <i class="fas fa-wand-magic-sparkles me-2"></i>
                    Generate Animation
                  </button>
                </form>

                <!-- Loading indicator -->
                <div
                  id="loading"
                  class="text-center mt-4"
                  style="display: none"
                >
                  <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                  </div>
                  <p class="mt-2">Generating your animation...</p>
                  <small class="text-muted">This may take 30-60 seconds</small>
                </div>

                <!-- Error display -->
                <div
                  id="error-alert"
                  class="alert alert-danger mt-4"
                  style="display: none"
                  role="alert"
                >
                  <i class="fas fa-exclamation-triangle me-2"></i>
                  <span id="error-message"></span>
                </div>
              </div>
            </div>

            <!-- Examples -->
            <div class="card shadow mt-4">
              <div class="card-header bg-light">
                <h6 class="card-title mb-0">
                  <i class="fas fa-lightbulb me-2"></i>
                  Example Prompts
                </h6>
              </div>
              <div class="card-body">
                <div class="list-group list-group-flush">
                  <button
                    class="list-group-item list-group-item-action example-prompt"
                    data-prompt="A red circle moves in a figure-8 pattern"
                  >
                    A red circle moves in a figure-8 pattern
                  </button>
                  <button
                    class="list-group-item list-group-item-action example-prompt"
                    data-prompt="A square transforms into a triangle with a rotation"
                  >
                    A square transforms into a triangle with a rotation
                  </button>
                  <button
                    class="list-group-item list-group-item-action example-prompt"
                    data-prompt="Mathematical equation 2x + 3 = 7 being solved step by step"
                  >
                    Mathematical equation 2x + 3 = 7 being solved step by step
                  </button>
                  <button
                    class="list-group-item list-group-item-action example-prompt"
                    data-prompt="A graph of sine and cosine waves appearing and oscillating"
                  >
                    A graph of sine and cosine waves appearing and oscillating
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Output Section -->
          <div class="col-lg-6">
            <div class="card shadow">
              <div class="card-header bg-light">
                <h5 class="card-title mb-0">
                  <i class="fas fa-video me-2"></i>
                  Generated Animation
                </h5>
              </div>
              <div class="card-body">
                <div id="video-container" class="text-center">
                  <div class="empty-state">
                    <i class="fas fa-film fa-4x text-muted mb-3"></i>
                    <h6 class="text-muted">No animation generated yet</h6>
                    <p class="text-muted">
                      Enter a prompt and click generate to create your animation
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Animation History -->
            <div class="card shadow mt-4">
              <div class="card-header bg-light">
                <h6 class="card-title mb-0">
                  <i class="fas fa-history me-2"></i>
                  Recent Animations
                </h6>
              </div>
              <div class="card-body">
                <div id="history-container">
                  <p class="text-muted text-center">
                    No animations created yet
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/app.js"></script>
  </body>
</html>
